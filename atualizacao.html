<!doctype html>
<html lang="pt-BR" data-bs-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Atualiza√ß√£o v2.1 ‚Äî Aviso</title>

  <!-- Bootstrap 5.3 (CDN) -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
    crossorigin="anonymous"
  >

  <style>
    :root {
      --rm-primary: #0d6efd;
      --rm-success: #198754;
      --rm-warning: #ffc107;
      --rm-muted: #6c757d;
      --rm-bg: #f8fafc;
    }
    body {
      background: radial-gradient(1200px 800px at 15% -10%, #ffffff, var(--rm-bg));
      min-height: 100dvh;
      display: grid;
      place-items: center;
      padding: 1.25rem;
    }
    .rm-card {
      border-radius: 1rem;
      border: 1px solid rgba(0,0,0,.08);
      box-shadow: 0 0.75rem 2rem rgba(0,0,0,.06);
      overflow: hidden;
      background: #fff;
    }
    .rm-badge {
      font-weight: 700;
      letter-spacing: .02em;
    }
    .rm-header {
      background: linear-gradient(180deg, #ffffff, #f3f6fb);
      border-bottom: 1px solid rgba(0,0,0,.06);
    }
    .rm-list li+li { margin-top: .4rem; }
    .rm-pill { border-radius: 999px; }
    .rm-footer {
      border-top: 1px solid rgba(0,0,0,.06);
      background: #fff;
    }
    .rm-alert {
      background: #fff7e6;
      border: 1px solid #ffe1a6;
    }
    .rm-observacoes {
      background: #f9fbff;
      border: 1px dashed rgba(0,0,0,.12);
    }
    .progress {
      height: .6rem;
    }
    @media (prefers-reduced-motion: reduce) {
      .progress-bar { transition: none !important; }
    }
    @media print {
      body { background: #fff; }
      .rm-card { box-shadow: none; }
    }
  </style>
</head>
<body>
  <main class="container">
    <article class="rm-card mx-auto" style="max-width: 980px" role="region" aria-labelledby="titulo">
      <!-- Header -->
      <header class="rm-header p-4 text-center">
        <div class="d-inline-flex align-items-center gap-2 mb-2">
          <span class="badge text-bg-success rm-badge">‚úÖ Atualiza√ß√£o v2.1 ‚Ä¢ LIBERADA!</span>
        </div>
        <h1 id="titulo" class="h2 fw-bold mb-1">Parab√©ns, sua atualiza√ß√£o foi um sucesso!</h1>
        <p class="text-muted mb-0">Esta atualiza√ß√£o cont√©m:</p>
      </header>

      <!-- Body -->
      <section class="p-4 p-md-5">
        <div class="alert alert-success d-flex align-items-start gap-3 mb-4" role="status" aria-live="polite">
          <div class="fs-4">üéâ</div>
          <div class="flex-grow-1">
            <ul class="rm-list mb-0">
              <li>Atualiza√ß√£o das OS, mantendo em uma √∫nica nota</li>
              <li>Puxa dados do cliente pela placa</li>
              <li>2 formas de pagamento</li>
              <li>Ajuste do financeiro</li>
              <li>Adicionados servi√ßos extras que n√£o consomem valor de estoque</li>
              <li>Visual novo e completo</li>
              <li>Melhoria da aba financeira</li>
              <li>Melhoria de navega√ß√£o</li>
              <li>Suporte para XMLs duplicados</li>
            </ul>
          </div>
        </div>

        <div class="rm-alert rounded-3 p-3 p-md-4 mb-4">
          <h3 class="h6 fw-bold mb-2">‚ö†Ô∏è ATEN√á√ÉO</h3>
          <p class="mb-2">
            Esta √© uma atualiza√ß√£o autom√°tica caso o representante do Sistema da Rota Motos n√£o possa estar presente.
            Isso foi feito devido ao representante estar em alistamento obrigat√≥rio, n√£o podendo atualizar sistemas
            ou responder mensagens.
          </p>
          <p class="mb-0">
            A atualiza√ß√£o estava programada desde <strong>20/10/2025</strong>, mas s√≥ ocorreu agora, pois o seu
            sistema estava sobrecarregado e n√£o p√¥de ser atualizado anteriormente.
          </p>
        </div>

        <h2 class="text-center h5 fw-bold mb-3">OBSERVA√á√ïES</h2>
        <div class="rm-observacoes rounded-3 p-3 p-md-4">
          <p class="mb-2">
            Esta √© uma atualiza√ß√£o prevista em contrato para atender √†s necessidades do cliente.
            Caso o cliente queira <strong>adicionar algo</strong> ou <strong>atualizar alguma parte</strong> do sistema,
            ser√° cobrada uma taxa de atualiza√ß√£o e manuten√ß√£o.
          </p>
          <p class="mb-2"><strong>Somente atualiza√ß√µes previstas para bom funcionamento n√£o ser√£o cobradas.</strong></p>
          <p class="mb-0">
            Em caso de mau uso do sistema e <strong>perda de backups</strong>, n√£o poderemos nos responsabilizar.
            Lembre-se de sempre atualizar os backups do sistema na <em>aba de backups</em>!
          </p>
        </div>
      </section>

      <!-- Countdown / Controls -->
      <section class="px-4 pb-4 px-md-5">
        <div class="d-flex align-items-center justify-content-between mb-2">
          <div class="small text-muted">
            Redirecionando para <code>index.html</code> em
            <span id="tempo-restante" class="fw-semibold">03:00</span>.
          </div>
          <div class="d-none d-md-block small text-muted">Voc√™ pode ir agora, se preferir.</div>
        </div>
        <div class="progress mb-3" role="progressbar" aria-label="Tempo restante">
          <div id="barra-progresso" class="progress-bar" style="width: 100%"></div>
        </div>
        <div class="d-grid d-sm-flex gap-2">
          <button id="btn-ir" type="button" class="btn btn-primary">
            Ir para o Sistema
          </button>
          <span class="badge text-bg-light text-muted rm-pill align-self-center">
            Vers√£o: v2.1
          </span>
        </div>
      </section>

      <!-- Footer -->
      <footer class="rm-footer d-flex flex-wrap gap-2 justify-content-between align-items-center px-4 py-3 px-md-5">
        <span class="text-muted small">Rota Motos ‚Ä¢ Sistema</span>
        <span class="text-muted small">Status: Atualiza√ß√£o conclu√≠da</span>
      </footer>
    </article>
  </main>

  <!-- Bootstrap JS (opcional, para componentes se necess√°rio) -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"
  ></script>

  <script>
    (function () {
      const REDIRECT_URL = "index.html";
      const TOTAL_MS = 3 * 60 * 1000; // 3 minutos
      const start = Date.now();

      const tempoSpan = document.getElementById("tempo-restante");
      const barra = document.getElementById("barra-progresso");
      const btnIr = document.getElementById("btn-ir");

      // Fun√ß√µes utilit√°rias
      const pad = (n) => String(n).padStart(2, "0");

      function updateCountdown() {
        const elapsed = Date.now() - start;
        const remaining = Math.max(0, TOTAL_MS - elapsed);

        const secs = Math.ceil(remaining / 1000);
        const m = Math.floor(secs / 60);
        const s = secs % 60;

        tempoSpan.textContent = `${pad(m)}:${pad(s)}`;

        const pct = (remaining / TOTAL_MS) * 100;
        barra.style.width = `${pct}%`;
        barra.setAttribute("aria-valuenow", Math.round(pct));

        if (remaining <= 0) {
          redirectNow();
        }
      }

      function redirectNow() {
        // Evita m√∫ltiplas tentativas
        if (redirectNow._done) return;
        redirectNow._done = true;
        window.location.href = REDIRECT_URL;
      }

      // Intervalo do contador
      const interval = setInterval(updateCountdown, 250);
      // Fallback de redirecionamento garantido
      const timeout = setTimeout(redirectNow, TOTAL_MS);

      // Clique no bot√£o
      btnIr.addEventListener("click", redirectNow);

      // Atualiza imediatamente a UI
      updateCountdown();

      // Limpeza ao descarregar
      window.addEventListener("beforeunload", () => {
        clearInterval(interval);
        clearTimeout(timeout);
      });
    })();
  </script>
</body>
</html>
